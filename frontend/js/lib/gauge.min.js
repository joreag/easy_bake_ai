!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Gauge=t():e.Gauge=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o=n(2),i=n(3).Gauge,a=n(3).Donut,s=n(3).BaseDonut,l=n(4);e.exports={Gauge:i,Donut:a,BaseDonut:s,TextRenderer:l,util:o,AnimationUpdater:r}},function(e,t){function n(e){e.update()}function r(e){var t=e||window;t.requestAnimationFrame(n.bind(null,this))}function o(e,t){i=e,a=t,s=[]}function i(e){return e}function a(e){return e}var s=[],l={add:function(e){s.push(e)},remove:function(e){for(var t=0;t<s.length;t++)if(s[t]===e){s.splice(t,1);break}},update:function(e){0!==s.length&&(e=e||s.slice(0),s.forEach(r),s.forEach(function(e){var t;t=null!=e.animation?i(e.animation):a(e.value),e.animation=t,e.setText(Math.round(t))}),s=e,s.length>0?requestAnimationFrame(l.update.bind(null,s)):void 0)},run:function(){requestAnimationFrame(l.update.bind(null,s))},init:function(e){e&&(i=e.getAngle,a=e.getVal),requestAnimationFrame(l.update.bind(null,s))}};e.exports=l},function(e,t){var n=1e3/60;e.exports={tick:n,val:function(e){return e},getAngle:function(e){return e}}},function(e,t,n){function r(e){this.elem=e,this.text=e.getElementsByTagName("tspan")[0],this.options={}}function o(e){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.options={}}function i(e){this.percentColors=null,o.call(this,e)}function a(e){this.percentColors=null,o.call(this,e)}function s(e){o.call(this,e)}var l=n(2),u=n(4),c=2*Math.PI,p=Math.PI/2;r.prototype.setOptions=function(e){this.options=e},r.prototype.render=function(e){this.text.textContent=this.options.formatter(e.value)},o.prototype.setOptions=function(e){this.options=e,this.canvas.width=2*this.options.radius,this.canvas.height=this.options.radius,this.ctx=this.canvas.getContext("2d")},o.prototype.getAngle=function(e){return(1-e)*c},o.prototype.set=function(e){this.value=e,this.animation||(this.animation=e),n(1).add(this)},o.prototype.render=function(){var e,t=this.getAngle(this.animation);this.ctx.clearRect(0,0,2*this.options.radius,this.options.radius),this.options.staticLabels&&this.renderStaticLabels(this.options.staticLabels),this.options.staticZones&&this.renderStaticZones(this.options.staticZones),e=this.options.lineWidth>0?this.options.lineWidth:this.options.radius/5,this.renderLimits(e,t),this.ctx.beginPath(),this.ctx.strokeStyle=this.options.colorStop,this.ctx.arc(this.options.radius,this.options.radius,this.options.radius-e/2,c,t,!0),this.ctx.stroke(),this.renderValue(e,t)},o.prototype.renderStaticZones=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.ctx.beginPath(),this.ctx.strokeStyle=n.strokeStyle,this.ctx.lineWidth=n.lineWidth||this.options.lineWidth,this.ctx.arc(this.options.radius,this.options.radius,this.options.radius-(this.ctx.lineWidth/2),p+this.getAngle(n.min),p+this.getAngle(n.max),!1),this.ctx.stroke()}},o.prototype.renderStaticLabels=function(e){this.ctx.save(),this.ctx.translate(this.options.radius,this.options.radius),this.ctx.font=e.font;for(var t=0;t<e.labels.length;t++){var n=e.labels[t],r=this.getAngle(n.label),o=this.ctx.measureText(n.value).width/2;this.ctx.fillStyle=e.color,this.ctx.rotate(r),this.ctx.translate(0,this.options.radius-15),this.ctx.fillText(n.value,-o,0),this.ctx.translate(0,-this.options.radius+15),this.ctx.rotate(-r)}this.ctx.restore()},o.prototype.renderLimits=function(e,t){this.options.limitMax&&this.renderLimit(e,t,this.getAngle(0)),this.options.limitMin&&this.renderLimit(e,t,this.getAngle(1))},o.prototype.renderLimit=function(e,t,n){this.ctx.beginPath(),this.ctx.strokeStyle=this.options.colorStart,this.ctx.arc(this.options.radius,this.options.radius,this.options.radius-e/2,n,t,!0),this.ctx.stroke()},o.prototype.renderValue=function(){this.textField.render(this)},o.prototype.setText=function(e){this.textField.text.textContent=e},i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.strokeGradient=function(e,t,n,r){var o=this.ctx.createRadialGradient(this.options.radius,this.options.radius,this.options.radius/2,this.options.radius,this.options.radius,this.options.radius);o.addColorStop(0,t),o.addColorStop(1,n),this.ctx.strokeStyle=o,this.ctx.arc(this.options.radius,this.options.radius,this.options.radius-e/2,r,r+this.getAngle(this.animation),!1),this.ctx.stroke()},i.prototype.setOptions=function(e){o.prototype.setOptions.call(this,e),this.textField=new u(document.getElementById(this.options.textField)),this.textField.setOptions({formatter:this.options.valueFormatter,fontFamily:this.options.fontFamily,fontSize:this.options.fontSize,color:this.options.color})},i.prototype.render=function(){o.prototype.render.call(this)},a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.setOptions=function(e){o.prototype.setOptions.call(this,e),this.textField=new u(document.getElementById(this.options.textField)),this.textField.setOptions({formatter:this.options.valueFormatter})},a.prototype.render=function(){this.ctx.clearRect(0,0,2*this.options.radius,this.options.radius),this.ctx.beginPath(),this.ctx.strokeStyle=this.options.colorStart,this.ctx.lineWidth=this.options.lineWidth,this.ctx.arc(this.options.radius,this.options.radius,this.options.radius-this.options.lineWidth/2,0,this.getAngle(this.animation),!1),this.ctx.stroke(),this.renderValue(this)},s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.setOptions=function(e){o.prototype.setOptions.call(this,e),this.lineWidth=e.lineWidth||this.options.radius/5,this.radius=this.options.radius-this.lineWidth/2,this.ctx.translate(this.options.radius,this.options.radius),this.ctx.rotate(p),this.textField=new u(document.getElementById(this.options.textField)),this.textField.setOptions({formatter:this.options.valueFormatter})},s.prototype.render=function(){this.ctx.clearRect(-this.options.radius,-this.options.radius,2*this.options.radius,2*this.options.radius),this.ctx.beginPath(),this.ctx.strokeStyle=this.options.colorStart,this.ctx.lineWidth=this.lineWidth,this.ctx.arc(0,0,this.radius,0,this.getAngle(this.animation),!1),this.ctx.stroke(),this.renderValue(this)},e.exports={Gauge:i,Donut:a,BaseDonut:s}},function(e,t){function n(e,t){t=t||{},this.element=e,this.format=t.formatter||function(e){return e},this.text=e.innerHTML}n.prototype.render=function(e){this.element.innerHTML=this.format(e)},e.exports=n}])});